$navigation-elements-height: rem(36px);
$title-height: line-height(display-large, large-screen);
$action-horizontal-padding: (1.5 * spacing(tight));

$difference-between-touch-area-and-backdrop: control-height() -
  control-slim-height();

$stacking-order: (
  title: 10,
  breadcrumbs: 20,
);

html,
body {
  min-height: 100%;
  height: 100%;
}

.p_rd {
  @include page-layout;

  // Ensure bottom margins of any children are contained
  &::after {
    content: '';
    display: table;
  }
}

.p_kz {
  max-width: none;
}

.p_y2 {
  max-width: layout-width(primary, max);
}

.p_gi {
  @include page-content-layout;
}

.p_g5 {
  @include page-header-layout;
}

.p_vo,
.p_l6 {
  padding-top: spacing(loose);
}

.p_bh {
  @include page-header-has-secondaryactions;
}

.p_nh {
  padding-bottom: spacing();
  border-bottom: border();

  + .p_gi {
    margin-top: spacing(loose);
  }
}

.p_l2 {
  .p_vk {
    display: none;
  }

  @include page-content-when-not-partially-condensed {
    .p_p6 {
      display: none;
    }

    .p_vk {
      display: flex;
    }
  }
}

.p_nq {
  display: flex;
  justify-content: space-between;
  margin-bottom: spacing(extra-tight);
}

.p_it {
  margin-left: auto;
}

.p_g4 {
  display: flex;
  align-items: center;
}

.p_qf {
  flex: 1 1 0%;
}

.p_s5 {
  @include layout-flex-fix;
  @include text-breakword;
  display: flex;
  align-items: baseline;
  flex-wrap: wrap;
  margin-top: -1 * spacing(tight);

  > * {
    margin-top: spacing(tight);
    margin-right: spacing(tight);
  }
}

.p_m5 {
  @include visually-hidden;
}

.p_wk {
  @include page-actions-layout;
}

.p_sg {
  flex: 1;
}

.p_vk {
  display: flex;
  align-items: center;

  > .p_bd,
  > .p_xu {
    &:first-child {
      // Compensates for the fact that we push the icon slightly to the left
      margin-left: -1 * $action-horizontal-padding;
    }

    &:last-child {
      margin-right: -1 * $action-horizontal-padding;
    }
  }
}

.p_xg {
  display: flex;
  align-self: stretch;
  align-items: center;

  .p_g4 > & {
    display: none;
    margin-left: spacing(loose);
  }

  @include page-content-when-not-partially-condensed {
    display: none;

    .p_g4 > & {
      display: flex;
    }
  }
}

.p_bd {
  @include unstyled-button;
  @include text-style-body;
  position: relative;
  display: inline-flex;
  align-items: center;
  min-height: control-height();

  // Negative margin vertically for the amount that is not covered by
  // the focus overlay
  margin-top: -0.5 * $difference-between-touch-area-and-backdrop;
  margin-bottom: -0.5 * $difference-between-touch-area-and-backdrop;
  padding: 0 $action-horizontal-padding;
  text-decoration: none;
  color: color('ink', 'light');

  &:hover,
  &:active {
    color: color('ink');

    .p_th {
      @include recolor-icon(color('ink'), color('white'));
    }
  }

  &:focus,
  &:active {
    &::after {
      background: plain-button-background();
    }
  }

  &::after {
    content: '';
    position: absolute;
    top: 0.5 * $difference-between-touch-area-and-backdrop;
    right: spacing(extra-tight);
    left: spacing(extra-tight);
    display: block;
    height: control-slim-height();
    border-radius: border-radius();
    background: transparent;
    will-change: background;
    transition-property: background;
    transition-duration: duration();
    transition-timing-function: easing();
  }

  &.p_b6 {
    color: color('ink', 'lightest');
    cursor: default;
    pointer-events: none;

    .p_th {
      @include recolor-icon(color('ink', 'lightest'));
    }
  }
}

.p_qe {
  display: flex;
  align-items: center;
}

.p_th {
  @include recolor-icon(color('ink', 'lighter'), color('white'));
  display: inline-block;

  &:first-child {
    margin-right: spacing(extra-tight);
  }

  &:last-child {
    margin-left: spacing(extra-tight);

    // This compensates for the disclosure icon, which is substantially
    // inset within the viewbox (and makes it look like there is too much
    // spacing on the right of the button)
    margin-right: -3px;
  }

  &.p_b6 {
    @include recolor-icon(color('ink', 'lightest'));
  }
}

.p_ji {
  padding: spacing();
  margin-top: -1 * spacing();

  &.p_iw {
    margin-top: -1 * spacing(tight);
    border-top: border();
  }
}

.p_h0 {
  @include button-base;
  @include button-outline(color('ink', 'lighter'));

  &::after {
    top: auto;
    left: auto;
    right: auto;
  }

  &.p_b6 {
    @include button-outline-disabled(color('ink', 'lighter'));
  }
}
